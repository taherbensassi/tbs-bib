{% extends '@layout/layout-index.html.twig' %}
{% block title %}Content Element{% endblock %}

{% block card %}
{% if apiFailed is defined and apiFailed == false  %}
    <div class="callout callout-info">
        <h5><i class="fas fa-info"></i> Hinweis:</h5>
        Es werden nur Snippets angezeigt, die vom Administrator erstellt wurden!
        <a class="btn btn-link" href="https://gitlab.brettinghams-dev.de/-/snippets/new">Snippet hunzuf체gen</a>
    </div>
    <div class="card">
        <div class="card-header d-flex justify-content-between align-items-right">
            <h3 class="card-title">Gitlab Snippet List</h3>
        </div>
        <!-- /.card-header -->
        <div class="card-body">
            {% include 'Block/Flash/_flash_message.html.twig'  %}
            <table id="table" class="table table-hover">
                <thead>
                <tr>
                    <th>Titel</th>
                    <th>Beschreibung</th>
                    <th>Erstellt</th>
                    <th>Link</th>
                    <th>Clone</th>
                </tr>
                </thead>
                <tbody>
                {% for snippet in gitlabSnippet %}
                    <tr>
                        <td class="text-success">{{ snippet.title }}</td>
                        <td>{{ snippet.description }}</td>
                        <td>{{ snippet.created_at ? snippet.created_at|date('Y-m-d H:i:s') : '' }}</td>
                        <td><a href="{{ snippet.web_url }}"  class="btn btn-link">Gitlab</a> </td>
                        <td>{{ snippet.http_url_to_repo }} </td>
                    </tr>
                {% else %}
                    <tr>
                        <td colspan="11">keine Datens채tze gefunden</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
        <!-- /.card-body -->
    </div>
{% else %}
    <div class="card-body ">
        <div class="alert alert-danger ">
            <h5><i class="icon fas fa-ban"></i> Achtung!</h5>
            Bitte 체berpr체fen Sie die Konfiguration der Gitlab-Api und aktualisieren Sie die Seite!
        </div>
    </div>
{% endif %}
{% endblock %}

